{% extends 'base.html' %}
{% load static %}
{% load chat_extras %}

{% block title %}WebChat - Home{% endblock %}

{% block content %}
    <div class="chat-container">
        <!-- Left Sidebar - Contacts -->
        {% include "chatapp/common.html" with is_home_page=True %}

        <!-- Right Side - Welcome Screen -->
        <div style="flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; background: #f8f9fa; text-align: center; padding: 48px;">

            <div style="width: 96px; height: 96px; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 40px; color: white; margin-bottom: 32px; box-shadow: 0 8px 24px rgba(0, 168, 132, 0.3);">
                ðŸ’¬
            </div>

            <h1 style="font-size: 28px; color: var(--text-primary); margin-bottom: 16px; font-weight: 700;">Welcome to
                WebChat</h1>

            <p style="font-size: 16px; color: var(--text-secondary); line-height: 1.6; margin-bottom: 32px; max-width: 400px;">
                Send and receive messages in real-time.<br>
                <strong>Search for users above</strong> to start a conversation.
            </p>

            <div style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.08); max-width: 320px;">
                <h3 style="color: var(--text-primary); margin-bottom: 16px; font-weight: 600; font-size: 14px;">Quick
                    Tips</h3>
                <div style="text-align: left;">
                    <div style="display: flex; align-items: center; margin-bottom: 12px;">
                        <span style="width: 6px; height: 6px; background: var(--primary-color); border-radius: 50%; margin-right: 10px;"></span>
                        <span style="color: var(--text-secondary); font-size: 12px;">Use the search bar to find users</span>
                    </div>
                    <div style="display: flex; align-items: center; margin-bottom: 12px;">
                        <span style="width: 6px; height: 6px; background: var(--primary-color); border-radius: 50%; margin-right: 10px;"></span>
                        <span style="color: var(--text-secondary); font-size: 12px;">Click on a user to start chatting</span>
                    </div>
                    <div style="display: flex; align-items: center;">
                        <span style="width: 6px; height: 6px; background: var(--primary-color); border-radius: 50%; margin-right: 10px;"></span>
                        <span style="color: var(--text-secondary); font-size: 12px;">Messages are delivered instantly</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Messages Display -->
    {% if messages %}
        <div id="messagesContainer" style="position: fixed; top: 24px; right: 24px; z-index: 1001; max-width: 320px;">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}"
                     style="background: {% if message.tags == 'success' %}linear-gradient(135deg, var(--secondary-color), var(--primary-color)){% elif message.tags == 'error' %}linear-gradient(135deg, #ff6b6b, #ee5a24){% else %}linear-gradient(135deg, #74b9ff, #0984e3){% endif %}; color: white; padding: 12px 16px; border-radius: 8px; margin-bottom: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); font-weight: 500; font-size: 13px; animation: slideIn 0.4s ease-out;">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
        <style>
            @keyframes slideIn {
                from {
                    opacity: 0;
                    transform: translateX(80px);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }
        </style>
        {#        <script>#}
        {#            setTimeout(() => {#}
        {#                const container = document.getElementById('messagesContainer');#}
        {#                if (container) {#}
        {#                    container.style.opacity = '0';#}
        {#                    container.style.transition = 'opacity 0.4s';#}
        {#                    setTimeout(() => container.remove(), 400);#}
        {#                }#}
        {#            }, 4000);#}
        {#        </script>#}
    {% endif %}
{% endblock %}

{% block script %}
    <script src="{% static 'js/home.js' %}"></script>
    <script src="{% static 'js/common.js' %}"></script>
{% endblock %}

